# Тестовый набор для DEX API

## Обзор
Данный проект представляет собой комплексную тестовую среду для децентрализованной биржи (DEX) под названием W-DEX. Тестовый набор включает в себя как тесты API, так и UI тесты с использованием Selenium WebDriver.

## Структура проекта
- **config/**: Файлы конфигурации, включающие API эндпоинты, временные интервалы и торговые пары
- **tests/**: Тестовые модули, организованные по категориям
  - **basic/**: Базовые тесты доступности API и структуры данных
  - **consistency/**: Тесты обратных пар и консистентности временных интервалов
  - **validation/**: Тесты валидации данных (дата, цена, объем)
  - **special/**: Граничные случаи и тесты специфичные для пар
  - **UI/**: Selenium-тесты пользовательского интерфейса
  - **pages/**: Объектные модели страниц для UI тестов
- **utils/**: Вспомогательные утилиты для API вызовов и валидации данных
- **allure-results/**: Директория для результатов отчетов тестирования

## Текущее состояние
- ✅ Настроена среда Python 3.11
- ✅ Установлены все зависимости (pytest, requests, selenium, allure-pytest)
- ✅ Настроен и запущен workflow тестового набора
- ✅ API тесты успешно проверены и работают
- ✅ Исправлены проблемы с импортами в conftest.py

## Архитектура
**Тестирование API**: Тесты параметризованы для выполнения по всем торговым парам и временным интервалам:
- Торговые пары: POL-USDT, USDT-POL, POL-DAI, DAI-POL, POL-CES, CES-POL, DAI-USDT, USDT-DAI, CES-USDT, USDT-CES, CES-DAI, DAI-CES
- Временные интервалы: 1d (по умолчанию), 1w, 4h, 1h, 15m
- Базовый URL: https://dev-graphback.w-dex.ai

**UI тестирование**: Selenium-тесты для интерфейса обмена на https://w-dex.ai
- Примечание: UI тесты по умолчанию исключены в среде Replit из-за требований Chrome WebDriver

## Как запустить UI тесты
UI тесты исключены по умолчанию, но могут быть запущены при правильной настройке:
1. **Требования**: Должны быть установлены браузер Chrome и ChromeDriver
2. **Команда**: `python -m pytest tests/ -v --tb=short -m ui`
3. **Среда**: Не поддерживается в стандартной среде Replit
4. **Альтернатива**: Запуск только API тестов с `python -m pytest tests/ -v --tb=short -m "not ui"` (по умолчанию)

## Последние изменения (17 сентября 2025)
- Настроена среда Python 3.11 с необходимыми пакетами
- Исправлены проблемы с путями импорта в conftest.py для устранения LSP диагностики
- Изменена фикстура WebDriver для запуска только для UI тестов во избежание конфликтов с API тестами
- Создан workflow "Test Suite" для запуска pytest с подробным выводом и кратким трассировочным стеком
- Проверено, что API тесты успешно запускаются и проходят

## Пользовательские предпочтения
- Предпочтительно выполнение тестов через консоль для данного тестового проекта
- Комплексное покрытие тестами всех торговых пар и временных интервалов
- Результаты тестов отображаются с подробным выводом для отладки